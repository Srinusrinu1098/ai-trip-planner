import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

   export  const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel imageUrl, geo coordinates, rating, descriptions and suggest itinerary with placeName, PlaceDetails, PlaceImageUrl, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a couple's budget-friendly 3-day trip to Las Vegas, along with hotel options and a detailed itinerary.  This plan focuses on free or low-cost activities, maximizing your enjoyment without breaking the bank.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap/Budget-Friendly\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"Approximately $30 - $70 per night (depending on the season and deals)\",\n      \"hotelImageUrl\": \"https://www.circuscircus.com/wp-content/uploads/2023/03/circus-circus-hotel-tower-view.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1284,\n        \"longitude\": -115.1657\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel known for its affordability and family-friendly atmosphere. Features the Adventuredome theme park (extra cost) and free circus acts.\"\n    },\n    {\n      \"hotelName\": \"Strat Hotel, Casino & Skypod\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"Approximately $40 - $80 per night\",\n      \"hotelImageUrl\": \"https://www.thestrat.com/ResourceFiles/Media/Rooms/Premier/STRAT-Las-Vegas-Hotel-Rooms-Premier-Room-1-Lg.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1464,\n        \"longitude\": -115.1556\n      },\n      \"rating\": 3.7,\n      \"description\": \"Offers great views from the Skypod (observation deck - extra cost) and often has affordable room rates. Located a bit north of the main Strip, but easily accessible.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"Approximately $45 - $85 per night\",\n      \"hotelImageUrl\": \"https://excalibur.mgmresorts.com/content/dam/MGM/excalibur/hotel/hotel-exterior/excalibur-hotel-exterior-banner.tif\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 3.8,\n      \"description\": \"Medieval-themed hotel with budget-friendly rooms and several dining options. Conveniently located at the south end of the Strip.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South End)\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for a photo opportunity. A must-do for any Vegas trip.\",\n          \"placeImageUrl\": \"https://www.lasvegasnevada.gov/wp-content/uploads/2021/11/SO-Welcome-Sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"Depends on your hotel location.  15-30 minutes from most Strip hotels by bus/ride-share, or longer walk.\",\n          \"bestTimeToVisit\": \"Early morning (less crowded) or evening (for the lights)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning seasonal floral displays inside the Bellagio hotel.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory/bellagio-conservatory-chinese-new-year-2024/bellagio-conservatory-chinese-new-year-2024-gallery-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1761\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"timeTravel\": \"Walkable if staying on the central Strip. Otherwise, use the monorail or bus.\",\n          \"bestTimeToVisit\": \"Anytime, but weekdays are less crowded.\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular water show set to music.  Runs frequently throughout the day and evening.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/fountains-of-bellagio-daytime-show/bellagio-fountains-daytime-show-01.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1129,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"timeTravel\": \"Right outside the Bellagio, easily accessible.\",\n          \"bestTimeToVisit\": \"Evening (for the full light show effect)\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Enjoy the sights and sounds of the Las Vegas Strip. People-watching is free!\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp/wp-content/uploads/2023/04/vegas-strip-1440x810-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"Variable, depending on how far you walk.\",\n          \"bestTimeToVisit\": \"Evening (when the lights are on).\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n      \"activities\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light show and street performers under a massive video screen canopy.\",\n          \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2022/07/Fremont-Street-Experience-Viva-Vision-Light-Shows-Things-to-do-Downtown-Las-Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free (some attractions within Fremont Street have fees)\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"30-45 minute bus ride from the Strip.  Ride-sharing is also an option.\",\n          \"bestTimeToVisit\": \"Evening (for the Viva Vision light shows)\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area built from repurposed shipping containers.\",\n          \"placeImageUrl\": \"https://downtowncontainerpark.com/wp-content/uploads/2022/06/Container-Park-Playground-Header.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1671,\n            \"longitude\": -115.1408\n          },\n          \"ticketPricing\": \"Free to enter (prices vary for shops and restaurants)\",\n          \"rating\": 4.3,\n          \"timeTravel\": \"A short walk from Fremont Street.\",\n          \"bestTimeToVisit\": \"Evening (for the atmosphere).\"\n        },\n        {\n          \"placeName\": \"SlotZilla Zip Line\",\n          \"placeDetails\": \"Zip line experience over Fremont Street. (Optional - extra cost)\",\n          \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2022/09/SlotZilla-Zip-Line-Vegas-Experience-Fremont-Street.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1708,\n            \"longitude\": -115.1418\n          },\n          \"ticketPricing\": \"Approximately $49-$89 per person depending on which level you choose.\",\n          \"rating\": 4.4,\n          \"timeTravel\": \"Located on Fremont Street.\",\n          \"bestTimeToVisit\": \"Evening\"\n        },\n         {\n          \"placeName\": \"Mob Museum\",\n          \"placeDetails\": \"Museum about Organized Crime. (Optional - extra cost)\",\n          \"placeImageUrl\": \"https://themobmuseum.org/wp-content/uploads/2023/07/THE-MOB-MUSEUM-30069-HR-1600x800.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1715,\n            \"longitude\": -115.1405\n          },\n          \"ticketPricing\": \"Approximately $36.95 per person\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"Located on Fremont Street.\",\n          \"bestTimeToVisit\": \"Afternoon\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Exploring the Strip (North End) & Departure\",\n      \"activities\": [\n        {\n          \"placeName\": \"The LINQ Promenade & High Roller Observation Wheel\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district. High Roller offers panoramic views. (High Roller is extra cost)\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/linq/things-to-do/the-linq-promenade/the-linq-promenade-retail-entertainment/linq-promenade-hero-mobile.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1170,\n            \"longitude\": -115.1693\n          },\n          \"ticketPricing\": \"Free to walk the Promenade. High Roller tickets start at around $25-$37 per person.\",\n          \"rating\": 4.4,\n          \"timeTravel\": \"Central Strip location, easily accessible.\",\n          \"bestTimeToVisit\": \"Evening (for the lights and atmosphere).\"\n        },\n        {\n          \"placeName\": \"Venetian & Palazzo Canals and Streetmosphere\",\n          \"placeDetails\": \"Indoor canals with gondola rides (extra cost), and free street performers.\",\n          \"placeImageUrl\": \"https://www.venetianlasvegas.com/content/dam/venetian/master/main/things-to-do/gondola-rides/gondola-listing-desktop.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1214,\n            \"longitude\": -115.1755\n          },\n          \"ticketPricing\": \"Free to walk around and watch the street performers. Gondola rides are extra.\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"Central Strip location.\",\n          \"bestTimeToVisit\": \"Afternoon or evening.\"\n        },\n        {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"Free volcano eruption show in front of the Mirage hotel. (Note: Check show times, as it may be seasonal or under renovation.)\",\n          \"placeImageUrl\": \"https://media.traveler.marriott.com/is/image/Marriott/LASMV-volcano-960x640\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1186,\n            \"longitude\": -115.1758\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.3,\n          \"timeTravel\": \"Central Strip location.\",\n          \"bestTimeToVisit\": \"Evening (check show times).\"\n        },\n        {\n          \"placeName\": \"Departure\",\n          \"placeDetails\": \"Head to the airport for your flight home.\",\n          \"placeImageUrl\": null,\n          \"geoCoordinates\": null,\n          \"ticketPricing\": null,\n          \"rating\": null,\n          \"timeTravel\": \"Allow ample time to travel to the airport (LAS) and go through security.\",\n          \"bestTimeToVisit\": \"Depends on your flight schedule.\"\n        }\n      ]\n    }\n  },\n  \"notes\": [\n    \"Transportation: Consider using the Las Vegas Monorail, the Deuce bus (Strip and Downtown), or ride-sharing services for getting around.\",\n    \"Food: Look for affordable dining options like fast food, food courts, or off-Strip restaurants.\",\n    \"Hydration: Las Vegas is a desert environment.  Drink plenty of water to stay hydrated.\",\n    \"Deals: Look for deals and discounts on shows and attractions online before your trip.\",\n    \"Gambling: Set a budget for gambling and stick to it.  It's easy to overspend.\",\n    \"Walking: Be prepared for a lot of walking. Wear comfortable shoes.\",\n    \"Safety: Be aware of your surroundings and keep your belongings secure.\",\n    \"Check the official websites of the attractions for updated information and schedules.\"\n  ]\n}\n```\n\n**Key Points for a Budget Trip:**\n\n*   **Hotel Choice:** The hotels listed are generally among the more affordable options on or near the Strip.  Prices vary depending on the time of year. Check for deals online and consider booking in advance.\n*   **Free Activities:** This itinerary focuses on free attractions like the Bellagio Conservatory, the Bellagio Fountains, walking the Strip, the Fremont Street Experience, and the Mirage Volcano (if available).\n*   **Transportation:** Use public transportation (Deuce bus, Monorail) to save money on taxis and ride-sharing.  Walking is also a great way to see the Strip.\n*   **Food:** Eat at affordable restaurants, fast-food places, or food courts.  Consider bringing snacks and drinks to save money.\n*   **Gambling:** Set a strict gambling budget and don't exceed it.\n\n**Important Considerations:**\n\n*   **Prices:** Hotel and attraction prices can fluctuate significantly depending on the time of year, day of the week, and special events. Always check current prices and availability.\n*   **Show Schedules:** Confirm the show schedules for the Bellagio Fountains and the Mirage Volcano (if operating) before your trip.\n*   **Walking Distance:** Be prepared to walk a lot! The distances between attractions on the Strip can be deceiving.\n*   **Safety:** Be aware of your surroundings and keep your belongings secure, especially in crowded areas.\n\nRemember to customize this plan to your interests and preferences. Have a fantastic time in Las Vegas!\n"},
          ],
        },
      ],
    });
  
    
  
  
 